# CLAUDE.md - AI Assistant Guide for Portfolio Website

## Repository Overview

This is a **multi-version React-based portfolio website** built with Vite. It supports multiple independent design versions (v1 and v2) that share common portfolio data, allowing for A/B testing or design evolution while maintaining a single codebase.

**Live Site:** https://prerak.hungrybrain.in
**Owner:** Prerak Gada
**Primary Tech:** React 16.10.2, Vite 5, Tailwind CSS 4, React Router, Firebase Hosting

**Note:** This project was migrated from Create React App to Vite for faster development and build times.

---

## Quick Start for AI Assistants

### Most Common Tasks

1. **Update portfolio content** ‚Üí Edit `/src/shared/data/portfolio.js`
2. **Change default version** ‚Üí Edit `/src/versions/config.js`
3. **Add new component** ‚Üí Create in `/src/versions/v1/components/` or `/src/versions/v2/components/`
4. **Modify global colors** ‚Üí Edit `/src/index.css`
5. **Update dependencies** ‚Üí Modify `/package.json` and run `npm install`

### Development Commands

```bash
npm start          # Start dev server (http://localhost:3000)
npm run build      # Production build
npm test           # Run tests
npm run format     # Format code with Prettier
npm run deploy     # Deploy to GitHub Pages
```

---

## Tech Stack

### Core Technologies
- **React 16.10.2** - UI library (class & functional components)
- **Vite 5** - Build tool and dev server (fast HMR, optimized builds)
- **React Router DOM 5.3.4** - Client-side routing
- **Tailwind CSS v4 + CSS custom properties** - Utility-first styling with shared design tokens

### Key Dependencies
- **react-lottie** - JSON-based animations
- **react-reveal** - Scroll animations
- **react-headroom** - Smart header behavior
- **react-twitter-embed** - Twitter timeline integration
- **color-thief** - Dominant color extraction
- **react-easy-emoji** - Cross-platform emoji support

### Build & Deployment
- **Vite 5** - Fast build tool with optimized production builds
- **Prettier 2.3.1** - Code formatting
- **Firebase** - Primary hosting
- **gh-pages** - GitHub Pages deployment option
- **Docker** - Containerization support (may need updates for Vite)

---

## Directory Structure

```
/home/user/Portfolio-Website/
‚îú‚îÄ‚îÄ public/                          # Static assets
‚îÇ   ‚îú‚îÄ‚îÄ index.html                   # HTML template (update meta tags here)
‚îÇ   ‚îú‚îÄ‚îÄ manifest.json                # PWA manifest
‚îÇ   ‚îú‚îÄ‚îÄ profile.json                 # GitHub data (generated by fetch.js)
‚îÇ   ‚îú‚îÄ‚îÄ blogs.json                   # Medium blog data (generated by fetch.js)
‚îÇ   ‚îî‚îÄ‚îÄ PDFs/                        # Resume, presentations
‚îÇ
‚îú‚îÄ‚îÄ src/                             # Main application source
‚îÇ   ‚îú‚îÄ‚îÄ index.js                     # React DOM entry point
‚îÇ   ‚îú‚îÄ‚îÄ App.js                       # Root component (renders VersionRouter)
‚îÇ   ‚îú‚îÄ‚îÄ serviceWorker.js             # PWA support
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ routes/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ VersionRouter.js         # üéØ Main router with lazy loading
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ shared/                      # Shared code across all versions
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ data/
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ portfolio.js         # üìä MASTER CONFIG - All portfolio content
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ contexts/
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ StyleContext.js      # Theme management (light/dark mode)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ hooks/
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ useLocalStorage.js   # Custom hook for persistence
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ utils.js                 # Utility functions
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ versions/                    # Multiple portfolio versions
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ config.js                # üéØ Default version configuration
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ QUICK_REFERENCE.md       # Version system quick guide
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ v1/                      # Version 1 - Classic Design
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ index.js             # V1 entry point
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ components/          # Reusable UI components
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ header/
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ footer/
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ achievementCard/
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ experienceCard/
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ... (20+ components)
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ containers/          # Page sections
‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ Main.js          # Main layout container
‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ greeting/
‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ skills/
‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ education/
‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ workExperience/
‚îÇ   ‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ ... (15+ containers)
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ v2/                      # Version 2 - Modern Design
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ index.js             # V2 entry point
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ components/          # Modern UI components
‚îÇ   ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ Header/
‚îÇ   ‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ Footer/
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ containers/          # Modern page sections
‚îÇ   ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ Main.js          # Main layout container
‚îÇ   ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ Hero/
‚îÇ   ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ Services/
‚îÇ   ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ Portfolio/
‚îÇ   ‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ ... (10+ containers)
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ styles/              # V2 specific styling
‚îÇ   ‚îÇ           ‚îî‚îÄ‚îÄ global.css       # Version-specific Tailwind layers & tokens
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ assets/                      # Media & static resources
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ certificates/            # Certificate images
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ images/                  # Logos, company images
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ lottie/                  # JSON animation files
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ skills/                  # Skill icons (SVG)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ fonts/                   # Custom fonts (Agustina, Montserrat)
‚îÇ   ‚îÇ
‚îÇ   ‚îî‚îÄ‚îÄ index.css                    # Global Tailwind layers & CSS variables
‚îÇ
‚îú‚îÄ‚îÄ Configuration Files
‚îÇ   ‚îú‚îÄ‚îÄ package.json                 # Dependencies & scripts
‚îÇ   ‚îú‚îÄ‚îÄ .prettierrc                  # Code formatting rules
‚îÇ   ‚îú‚îÄ‚îÄ .env                         # Environment variables (gitignored)
‚îÇ   ‚îú‚îÄ‚îÄ env.example                  # Environment template
‚îÇ   ‚îú‚îÄ‚îÄ .firebaserc                  # Firebase project ID
‚îÇ   ‚îú‚îÄ‚îÄ firebase.json                # Firebase hosting config
‚îÇ   ‚îú‚îÄ‚îÄ .gitignore                   # Git ignore rules
‚îÇ   ‚îî‚îÄ‚îÄ Dockerfile                   # Docker configuration
‚îÇ
‚îú‚îÄ‚îÄ Scripts
‚îÇ   ‚îî‚îÄ‚îÄ fetch.js                     # Node.js script to fetch GitHub/Medium data
‚îÇ
‚îî‚îÄ‚îÄ Documentation
    ‚îú‚îÄ‚îÄ README.md                    # User-facing documentation
    ‚îú‚îÄ‚îÄ MULTI_VERSION_GUIDE.md       # Multi-version system guide
    ‚îú‚îÄ‚îÄ IMPLEMENTATION_SUMMARY.md    # Implementation details
    ‚îî‚îÄ‚îÄ CLAUDE.md                    # This file - AI assistant guide
```

---

## Key Files Explained

### Critical Configuration Files

#### `/src/shared/data/portfolio.js` (494 lines)
**THE MOST IMPORTANT FILE** - Single source of truth for all portfolio content.

Contains 17+ configuration objects:
- `greeting` - Name, title, resume link
- `socialMediaLinks` - GitHub, LinkedIn, Twitter, etc.
- `skillsSection` - Software skills with Font Awesome icons
- `techStack` - Technology categories
- `workExperiences` - Job history
- `educationInfo` - Educational background
- `openSource` - GitHub projects
- `bigProjects` - Major portfolio projects
- `achievementSection` - Certifications & awards
- `blogSection` - Blog posts (Medium integration)
- `talkSection` - Conference talks
- `contactInfo` - Email contact details
- `twitterDetails` - Twitter handle
- `podcastSection` - Podcast embeds
- `splashScreen` - Splash animation config
- `isHireable` - Job availability flag

**When to edit:** User wants to update any portfolio content (work experience, skills, projects, contact info, etc.)

#### `/src/versions/config.js`
Controls which version displays on root domain.

```javascript
export const DEFAULT_VERSION = "v2"; // Change to "v1" or "v2"
```

**When to edit:** User wants to change default portfolio version

#### `/src/index.css`

Global CSS reset plus Tailwind layers and CSS custom properties shared across all versions.

**When to edit:** User wants to change theme colors or tokens globally

#### `/src/routes/VersionRouter.js`
Main routing logic with lazy loading for v1 and v2.

**When to edit:** Adding new versions (v3, v4, etc.)

### Data Fetching

#### `/fetch.js`
Node.js script that runs during build to fetch external data.

**What it does:**
1. Queries GitHub GraphQL API for pinned repos & profile
2. Fetches Medium blog posts via RSS
3. Saves to `/public/profile.json` and `/public/blogs.json`

**Requirements:**
- GitHub personal access token in `.env` as `VITE_GITHUB_TOKEN`
- GitHub username in `.env` as `GITHUB_USERNAME`
- Medium username in `.env` as `MEDIUM_USERNAME`

**When to run:** When user wants to sync latest GitHub repos or Medium posts

### Environment Variables

#### `.env` (gitignored)
```env
VITE_GITHUB_TOKEN = "your_github_token_here"
GITHUB_USERNAME = "PrerakGada"
USE_GITHUB_DATA = "true"
MEDIUM_USERNAME = "prerakgada"
```

**Important:** Never commit `.env` to git. Use `env.example` as template.

---

## Multi-Version System

### URL Structure
- `/` ‚Üí Redirects to DEFAULT_VERSION (currently v2)
- `/v1` ‚Üí Version 1 (Classic design)
- `/v2` ‚Üí Version 2 (Modern design)
- Any other path ‚Üí Redirects to DEFAULT_VERSION

### Version Isolation

**Each version is independent:**
- Has its own components and containers
- Has its own styling layers (Tailwind utilities + component CSS)
- Cannot import components from other versions
- Shares data from `/src/shared/data/portfolio.js`

**Shared resources:**
- Portfolio data (`portfolio.js`)
- Theme context (`StyleContext.js`)
- Custom hooks (`useLocalStorage.js`)
- Utilities (`utils.js`)
- Assets (`/src/assets/`)

### Adding a New Version

1. Create directory structure:
```bash
mkdir -p src/versions/v3/components src/versions/v3/containers
```

2. Create entry point:
```javascript
// src/versions/v3/index.js
import Main from "./containers/Main";
export default Main;
```

3. Update router (`src/routes/VersionRouter.js`):
```javascript
const V3 = lazy(() => import("../versions/v3"));

// Add route
<Route path="/v3">
  <V3 />
</Route>
```

4. Update config (`src/versions/config.js`):
```javascript
export const VERSIONS = {
  v1: { ... },
  v2: { ... },
  v3: {
    id: "v3",
    name: "Version 3",
    description: "New experimental design"
  }
};
```

---

## Styling System

### Global Styles & Tokens (`/src/index.css`)

Defines the root CSS custom properties (color palette, spacing scale, typography) and Tailwind `@layer base` rules used everywhere.

- `:root` holds theme tokens shared by v1 and v2
- Light/Dark specific tokens live under `.light-mode` / `.dark-mode`
- Tailwind `@layer components` snippets provide shared primitives (e.g., buttons)

**Usage tips:** Reference tokens with `var(--token-name)` inside CSS or pair them with Tailwind utilities in JSX.

```css
:root {
  --surface-primary: #040718;
  --accent-orange: #ff8c42;
}

@layer base {
  body {
    background: var(--surface-primary);
    color: var(--text-primary);
  }
}
```

### V2 Design System (`/src/versions/v2/styles/global.css`)

Extends the global tokens with `--v2-*` variables plus `@layer components` definitions specific to the modern design (hero cards, timeline blocks, etc.).

- Hosts layout helpers unique to v2 (grid templates, glassmorphism styles)
- Provides responsive clamps and animation keyframes shared across v2 containers
- Safe place for any design tokens that should not affect v1

### Theme Support (Light/Dark Mode)

**Context:** `/src/shared/contexts/StyleContext.js`

**Features:**
- Toggleable light/dark mode
- Persists preference to localStorage
- Detects system preference on first load
- Available via `useContext(StyleContext)`

**Usage in components:**
```javascript
import { StyleContext } from "../../../shared/contexts/StyleContext";

function MyComponent() {
  const { isDark, changeTheme } = useContext(StyleContext);

  return (
    <div className={isDark ? "dark-mode" : "light-mode"}>
      <button onClick={changeTheme}>Toggle Theme</button>
    </div>
  );
}
```

### Component Styling Pattern

Each component keeps a sibling CSS file (usually `ComponentName.css`) where Tailwind `@apply` or custom selectors live alongside utility classes used directly in JSX.

```
ComponentName/
‚îú‚îÄ‚îÄ ComponentName.js
‚îî‚îÄ‚îÄ ComponentName.css
```

**Import pattern:**

```javascript
import React from "react";
import "./ComponentName.css";
```

**Inside the CSS file:**

```css
@layer components {
  .component-name {
    @apply flex flex-col gap-4 rounded-3xl p-6;
    background: var(--surface-elevated);
  }
}
```

---

## Best Practices for AI Assistants

### 1. Always Edit, Never Create New Files Unless Necessary

**Preferred workflow:**
```javascript
// ‚úÖ GOOD: Edit existing file
// Read the file first
await Read({ file_path: "/home/user/Portfolio-Website/src/shared/data/portfolio.js" });

// Then edit specific section
await Edit({
  file_path: "/home/user/Portfolio-Website/src/shared/data/portfolio.js",
  old_string: "const workExperiences = { ... }",
  new_string: "const workExperiences = { ... updated ... }"
});
```

```javascript
// ‚ùå BAD: Creating new unnecessary files
await Write({
  file_path: "/home/user/Portfolio-Website/NEW_COMPONENT.md",
  content: "Documentation..."
});
```

### 2. Use Absolute Paths

Always use full absolute paths starting with `/home/user/Portfolio-Website/`.

```javascript
// ‚úÖ GOOD
file_path: "/home/user/Portfolio-Website/src/App.js"

// ‚ùå BAD
file_path: "src/App.js"
file_path: "./src/App.js"
```

### 3. Read Before Editing

**Always read a file before editing it** to understand context and avoid breaking changes.

```javascript
// 1. Read first
await Read({ file_path: "/home/user/Portfolio-Website/package.json" });

// 2. Then edit
await Edit({ ... });
```

### 4. Respect Prettier Formatting

This repo uses Prettier with specific rules:
- **Print width:** 80 characters
- **No trailing commas**
- **No bracket spacing**
- **Semicolons:** required
- **Single quotes:** false (use double quotes)
- **Tab width:** 2 spaces

After editing code files, consider running:
```bash
npm run format
```

### 5. Import Path Conventions

**For components in same version:**
```javascript
// v1 component importing another v1 component
import Header from "../components/header/Header";
```

**For shared resources:**
```javascript
// Any version importing shared data
import { greeting } from "../../../shared/data/portfolio";
import { StyleContext } from "../../../shared/contexts/StyleContext";
```

**For assets:**
```javascript
// Importing images
import logo from "../../../../assets/images/logo.png";
```

### 6. Component Naming Conventions

**V1 (Classic):**
- Lowercase folder names: `header/`, `footer/`, `greeting/`
- PascalCase component files: `Header.js`, `Footer.js`, `Greeting.js`

**V2 (Modern):**
- PascalCase folder names: `Header/`, `Footer/`, `Hero/`
- PascalCase component files: `Header.js`, `Footer.js`, `Hero.js`

### 7. Tailwind Layers & CSS Imports

- Keep shared utilities inside `@layer components` blocks in the relevant `ComponentName.css`
- Use `@apply` sparingly for repeated Tailwind stacks (buttons, cards, badges)
- Import CSS files with relative paths inside the component once: `import "./Header.css";`
- Prefer CSS custom properties (`var(--token)`) over duplicating hex values

### 8. When Adding Dependencies

1. Add to `package.json` dependencies
2. Run `npm install`
3. Verify compatibility with React 16.10.2
4. Test build process

### 9. Avoid Cross-Version Imports

**Never import components from other versions:**

```javascript
// ‚ùå BAD: v2 importing from v1
import Header from "../../v1/components/header/Header";

// ‚úÖ GOOD: v2 has its own Header
import Header from "../components/Header/Header";
```

### 10. Data Updates

**When updating portfolio content:**

1. **Single source of truth:** Edit only `src/shared/data/portfolio.js`
2. **Maintain structure:** Keep existing object structure
3. **Test all versions:** Changes affect both v1 and v2

---

## Common AI Assistant Tasks

### Task 1: Update Work Experience

**User request:** "Add my new job to the portfolio"

**Steps:**
1. Read `/src/shared/data/portfolio.js`
2. Locate `workExperiences` object
3. Add new experience to the `experience` array
4. Update `viewExperiences` flag if needed

**Example:**
```javascript
const workExperiences = {
  display: true,
  experience: [
    {
      role: "Senior Software Engineer",
      company: "New Company",
      companylogo: require("../../assets/images/newco.png"),
      date: "January 2024 ‚Äì Present",
      desc: "Working on exciting projects...",
      descBullets: [
        "Built feature X",
        "Improved performance by Y%"
      ]
    },
    // ... existing experiences
  ]
};
```

### Task 2: Change Theme Colors

**User request:** "Change the primary color to blue"

**Steps:**
1. Read `/src/index.css`
2. Update the relevant CSS custom properties (e.g., `--accent-primary`)
3. If the change is v2-specific, also update `/src/versions/v2/styles/global.css`

**Example:**
```css
/* Before */
:root {
  --accent-primary: #55198b;
}

/* After */
:root {
  --accent-primary: #1a73e8;
}
```

### Task 3: Switch Default Version

**User request:** "Make v1 the default homepage"

**Steps:**
1. Read `/src/versions/config.js`
2. Change `DEFAULT_VERSION` from "v2" to "v1"

**Example:**
```javascript
// Before
export const DEFAULT_VERSION = "v2";

// After
export const DEFAULT_VERSION = "v1";
```

### Task 4: Add New Project

**User request:** "Add my new project to the portfolio"

**Steps:**
1. Read `/src/shared/data/portfolio.js`
2. Locate `bigProjects` object
3. Add new project to the `projects` array
4. Add project image to `/public/` or `/src/assets/images/`

**Example:**
```javascript
const bigProjects = {
  title: "Big Projects",
  subtitle: "SOME STARTUPS AND COMPANIES THAT I HELPED TO CREATE THEIR TECH",
  projects: [
    {
      image: require("../../assets/images/new-project.png"),
      projectName: "My Awesome Project",
      projectDesc: "Description of the project",
      footerLink: [
        {
          name: "Visit Website",
          url: "https://project.com"
        },
        {
          name: "GitHub",
          url: "https://github.com/user/project"
        }
      ]
    },
    // ... existing projects
  ],
  display: true
};
```

### Task 5: Update Contact Information

**User request:** "Change my email address"

**Steps:**
1. Read `/src/shared/data/portfolio.js`
2. Update `contactInfo` object
3. Update `socialMediaLinks` object if applicable

**Example:**
```javascript
const contactInfo = {
  title: emoji("Contact Me ‚òéÔ∏è"),
  subtitle: "Discuss a project or just want to say hi?",
  number: "+91-1234567890",
  email_address: "newemail@example.com" // Update here
};

const socialMediaLinks = {
  // ...
  gmail: "newemail@example.com", // Also update here
  // ...
};
```

### Task 6: Add New Skill

**User request:** "Add Python to my skills"

**Steps:**
1. Read `/src/shared/data/portfolio.js`
2. Locate `skillsSection` object
3. Add new skill to `softwareSkills` array
4. Add corresponding icon from Font Awesome

**Example:**
```javascript
const skillsSection = {
  title: "What I do",
  subTitle: "CRAZY FULL STACK DEVELOPER...",
  skills: [
    emoji("‚ö° Develop highly interactive Front end / User Interfaces..."),
    // Add skill description if needed
  ],
  softwareSkills: [
    // ... existing skills
    {
      skillName: "python",
      fontAwesomeClassname: "fab fa-python"
    }
  ],
  display: true
};
```

### Task 7: Sync GitHub Data

**User request:** "Update my GitHub projects"

**Steps:**
1. Ensure `.env` file has valid `VITE_GITHUB_TOKEN` and `GITHUB_USERNAME`
2. Run `node fetch.js` to fetch latest data
3. Verify `/public/profile.json` and `/public/blogs.json` are updated
4. Rebuild the app

**Commands:**
```bash
node fetch.js
npm run build
```

### Task 8: Add Component to V2

**User request:** "Add a testimonials section to v2"

**Steps:**
1. Create component directory: `/src/versions/v2/components/Testimonials/`
2. Create `Testimonials.js` and `Testimonials.css`
3. Import shared data if needed
4. Import component in `/src/versions/v2/containers/Main.js`
5. Add to Main layout

**Example:**
```javascript
// /src/versions/v2/components/Testimonials/Testimonials.js
import React from "react";
import "./Testimonials.css";

const Testimonials = () => {
  return (
    <section className="testimonials-section">
      <h2>What People Say</h2>
      {/* Testimonial content */}
    </section>
  );
};

export default Testimonials;

/* /src/versions/v2/components/Testimonials/Testimonials.css */
@layer components {
  .testimonials-section {
    @apply rounded-3xl bg-white/5 p-10 text-white backdrop-blur;
  }
}

// /src/versions/v2/containers/Main.js
import Testimonials from "../components/Testimonials/Testimonials";

const Main = () => {
  return (
    <div className="v2-main">
      {/* ... other components */}
      <Testimonials />
      {/* ... */}
    </div>
  );
};
```

### Task 9: Update Dependencies

**User request:** "Update React to latest version"

**Important considerations:**
- This project uses React 16.10.2
- Updating to React 17+ or 18+ requires migration
- Many components use class-based syntax
- Dependencies like `enzyme` may have compatibility issues

**Recommended approach:**
1. First, update minor/patch versions only
2. Test thoroughly
3. For major version updates, plan migration strategy

**Commands:**
```bash
# Check for updates
npm outdated

# Update minor/patch (safer)
npm update

# Major version update (risky)
npm install react@latest react-dom@latest
npm test
npm run build
```

### Task 10: Fix Build Errors

**User request:** "The build is failing, please fix it"

**Debugging steps:**
1. Read error message carefully
2. Check for missing imports
3. Verify file paths are correct
4. Look for syntax errors
5. Check Tailwind/PostCSS compilation output
6. Verify environment variables

**Common issues:**
- **Module not found:** Check import paths (use `../../../` for shared)
- **CSS layer issues:** Ensure component CSS files are imported and Tailwind build ran
- **Missing dependencies:** Run `npm install`
- **Environment variables:** Ensure `.env` exists with required values

**Commands:**
```bash
# Clear cache and rebuild
rm -rf node_modules package-lock.json
npm install
npm run build

# Check for specific errors
npm run build 2>&1 | grep "ERROR"
```

---

## Important Gotchas

### 1. React Version Constraints

This project uses **React 16.10.2**, which:
- Uses legacy React APIs (some features deprecated in React 17+)
- Works with class components and older lifecycle methods
- Has different concurrent mode behavior than React 18+

**When suggesting updates:** Be cautious about recommending React 18 hooks or features.

### 2. Import Path Depth

Import paths can get deep due to directory nesting:

```javascript
// From v2 component to shared data
import { greeting } from "../../../shared/data/portfolio";

// From v1 component to assets
import logo from "../../../../assets/images/logo.png";
```

**Always count `../` carefully!**

### 3. CSS Layer Placement

- Shared tokens live in `src/index.css` and should not be re-declared elsewhere
- Version-specific utilities belong in `src/versions/<version>/styles/global.css`
- Component-level overrides go in `ComponentName.css` with `@layer components`
- Each component must import its CSS file exactly once to register the layer
// Count carefully based on nesting level
```

### 4. Environment Variables

Vite environment variables **must** start with `VITE_`:

```env
# ‚úÖ GOOD
VITE_GITHUB_TOKEN = "token_here"

# ‚ùå BAD (won't be accessible in Vite)
GITHUB_TOKEN = "token_here"
```

Access in code:
```javascript
// In browser/React components
const token = import.meta.env.VITE_GITHUB_TOKEN;

// In Node.js scripts (like fetch.js)
const token = process.env.VITE_GITHUB_TOKEN;
```

### 5. GitHub Token Scope

When creating GitHub personal access token:
- **No scopes needed** for public repo data
- Just generate a basic token
- If user reports 403 errors, token may be expired

### 6. Emoji Rendering

Always use `emoji()` helper for emojis to ensure cross-platform compatibility:

```javascript
import emoji from "react-easy-emoji";

// ‚úÖ GOOD
const text = emoji("Hello üëã World");

// ‚ùå BAD (may not render on all platforms)
const text = "Hello üëã World";
```

### 7. Lottie Animation Files

Lottie animations are JSON files in `/src/assets/lottie/`:
- Must be valid Lottie JSON format
- Can be downloaded from https://lottiefiles.com/
- Import as JavaScript objects, not JSON files

```javascript
// Correct import
import animationData from "../../assets/lottie/splashAnimation";

// In component
<Lottie options={{animationData}} />
```

### 8. Public Folder Files

Files in `/public/` are served as-is:
- Don't use `import` for these files
- Reference by absolute URL: `/profile.json`, `/resume.pdf`
- Processed by `fetch.js`: `profile.json`, `blogs.json`

### 9. Service Worker Caching

The PWA service worker may cache aggressively:
- User may see old version after deployment
- Recommend hard refresh (Ctrl+Shift+R) after updates
- Can disable during development in `src/index.js`

### 10. Build Output Size

The build output can be large due to:
- Multiple versions bundled together
- Lottie animation files
- Image assets

**Optimization tips:**
- Lazy loading is already implemented for versions
- Consider image optimization for `/public/` and `/assets/`
- Analyze bundle: `npm install -g source-map-explorer && npm run build && source-map-explorer 'build/static/js/*.js'`

---

## Testing

### Running Tests

```bash
npm test
```

**Test setup includes:**
- Jest (via react-scripts)
- Enzyme for component testing
- React Test Renderer

**Test files location:**
- Any file ending in `.test.js` or `.spec.js`
- `__tests__/` directories

### Manual Testing Checklist

Before considering changes complete:

- [ ] Test v1 at `http://localhost:3000/v1`
- [ ] Test v2 at `http://localhost:3000/v2`
- [ ] Test default version at `http://localhost:3000/`
- [ ] Test light/dark theme toggle
- [ ] Test responsive design (mobile, tablet, desktop)
- [ ] Run `npm run build` successfully
- [ ] Check browser console for errors
- [ ] Verify social media links work
- [ ] Test navigation between sections

---

## Deployment

### Firebase Hosting (Primary)

**Setup:**
1. Install Firebase CLI: `npm install -g firebase-tools`
2. Login: `firebase login`
3. Initialize: `firebase init` (already configured)

**Deploy:**
```bash
npm run build
firebase deploy
```

**Configuration files:**
- `.firebaserc` - Project ID
- `firebase.json` - Hosting rules

### GitHub Pages (Alternative)

**Setup:**
1. Set `homepage` in `package.json` to your GitHub Pages URL
2. Configure branch in repository settings

**Deploy:**
```bash
npm run deploy
```

This runs:
1. `npm run build` (predeploy script)
2. Deploys to `master` branch via `gh-pages`

**Important:** The `deploy` script in `package.json` deploys to `master` branch:
```json
"deploy": "gh-pages -b master -d build"
```

### Docker Deployment

**Build image:**
```bash
docker build -t portfolio:latest .
```

**Run container:**
```bash
docker run -t -p 3000:3000 portfolio:latest
```

**Dockerfile uses:**
- Base: `node:10.16.0-alpine`
- Port: 3000
- Entry: `npm start`

---

## Git Workflow

### Current Branch

The repository is currently on branch: `claude/claude-md-mi2r8n4zhs2d46gx-01P1LLo2knWAMEgk4JZzVY9h`

### Branching Convention

Claude AI sessions use branches with format:
```
claude/claude-md-{session-id}
```

### Committing Changes

**When making commits:**

1. Review changes:
```bash
git status
git diff
```

2. Stage changes:
```bash
git add <files>
# or
git add .
```

3. Commit with descriptive message:
```bash
git commit -m "Add comprehensive CLAUDE.md documentation"
```

4. Push to remote:
```bash
git push -u origin claude/claude-md-mi2r8n4zhs2d46gx-01P1LLo2knWAMEgk4JZzVY9h
```

**Commit message conventions:**
- Use present tense: "Add feature" not "Added feature"
- Be descriptive but concise
- Reference issues if applicable

---

## Maintenance Tasks

### Updating GitHub Data

**Frequency:** As needed (when pinned repos change)

**Steps:**
1. Ensure `.env` has valid GitHub token
2. Run fetch script:
```bash
node fetch.js
```
3. Verify `/public/profile.json` updated
4. Rebuild and redeploy

### Updating Medium Blogs

**Frequency:** Automatic on build (if Medium username configured)

**Manual update:**
```bash
node fetch.js
```

### Dependency Updates

**Frequency:** Monthly or as security patches released

**Steps:**
```bash
# Check outdated packages
npm outdated

# Update minor/patch versions
npm update

# Review changes
git diff package.json

# Test
npm test
npm run build

# Commit if successful
git commit -am "Update dependencies"
```

### Security Audits

**Frequency:** Weekly

**Commands:**
```bash
# Check for vulnerabilities
npm audit

# Auto-fix if possible
npm audit fix

# Manual review for breaking changes
npm audit fix --force
```

---

## Debugging Guide

### Build Failures

**Symptom:** `npm run build` fails

**Common causes:**
1. **Syntax errors** - Check error message for file and line
2. **Missing imports** - Verify all import paths
3. **Tailwind/PostCSS errors** - Check the build output for missing `@layer` blocks
4. **Environment variables missing** - Ensure `.env` exists

**Debug steps:**
```bash
# 1. Clear cache
rm -rf node_modules package-lock.json
npm install

# 2. Check for specific errors
npm run build 2>&1 | tee build.log

# 3. Review build.log for errors
```

### Runtime Errors

**Symptom:** App crashes or white screen

**Debug steps:**
1. Open browser DevTools console
2. Look for error messages
3. Check Network tab for failed requests
4. Verify environment variables loaded

**Common issues:**
- **Cannot read property of undefined** - Data not loaded from `portfolio.js`
- **404 errors** - Incorrect asset paths
- **CORS errors** - API configuration issues

### Styling Issues

**Symptom:** Styles not applied or broken layout

**Debug steps:**
1. Inspect element in DevTools
2. Confirm component CSS files are imported (one per component)
3. Verify class names match between JS and CSS selectors
4. Ensure `@layer` blocks exist only once per selector to avoid Tailwind drops

**Common issues:**
- **Styles not loaded** - Missing `import "./Component.css"`
- **Global colors not working** - CSS variables not updated in `src/index.css`
- **Responsive breakpoints** - Confirm media queries live in the correct CSS file (`@layer components`)

### Dark Mode Not Working

**Symptom:** Theme toggle doesn't work

**Debug steps:**
1. Check localStorage in DevTools (key: `isDark`)
2. Verify `StyleContext` provider wraps app
3. Check component consumes context correctly

**Fix:**
```javascript
// Ensure App.js has StyleProvider
import { StyleProvider } from "./shared/contexts/StyleContext";

function App() {
  return (
    <StyleProvider>
      <VersionRouter />
    </StyleProvider>
  );
}
```

---

## Performance Optimization

### Current Optimizations

‚úÖ **Lazy loading** - Versions loaded on-demand via `React.lazy()`
‚úÖ **Code splitting** - Separate bundles for v1 and v2
‚úÖ **Service worker** - PWA caching
‚úÖ **Asset optimization** - SVG icons, optimized images

### Future Optimization Opportunities

üî≤ **Image lazy loading** - Load images as they scroll into view
üî≤ **Font subsetting** - Load only required font characters
üî≤ **Bundle analysis** - Identify large dependencies
üî≤ **CDN for assets** - Serve static assets from CDN

### Bundle Analysis

```bash
# Install analyzer
npm install -g source-map-explorer

# Build and analyze
npm run build
source-map-explorer 'build/static/js/*.js'
```

---

## Accessibility (a11y)

### Current State

The codebase has **basic accessibility** but could be improved.

### Recommendations for AI Assistants

When adding or modifying components:

1. **Use semantic HTML**
```javascript
// ‚úÖ GOOD
<nav>
  <ul>
    <li><a href="/about">About</a></li>
  </ul>
</nav>

// ‚ùå BAD
<div>
  <div>
    <div><a href="/about">About</a></div>
  </div>
</div>
```

2. **Add ARIA labels**
```javascript
<button aria-label="Toggle dark mode" onClick={changeTheme}>
  üåô
</button>
```

3. **Ensure keyboard navigation**
```javascript
<div
  tabIndex={0}
  onKeyPress={handleKeyPress}
  onClick={handleClick}
>
  Interactive element
</div>
```

4. **Alt text for images**
```javascript
<img
  src={logo}
  alt="Company logo for Acme Corp"
/>
```

---

## SEO Optimization

### Meta Tags

**Location:** `/public/index.html`

**Update meta tags for SEO:**
```html
<head>
  <title>Prerak Gada - Full Stack Developer</title>
  <meta name="description" content="Portfolio of Prerak Gada..." />
  <meta name="keywords" content="React, Developer, Portfolio..." />
  <meta property="og:title" content="..." />
  <meta property="og:description" content="..." />
  <meta property="og:image" content="..." />
  <meta name="twitter:card" content="summary_large_image" />
</head>
```

### Sitemap & Robots

**Files:**
- `/public/robots.txt` - Search engine directives
- Add `/public/sitemap.xml` for better indexing

**robots.txt should allow crawling:**
```
User-agent: *
Allow: /
```

---

## Version History

### v1 - Classic Design
- Original developerFolio template
- Component-rich portfolio
- Mature, well-tested
- 20+ reusable components
- Full feature set

### v2 - Modern Design
- Figma-based redesign
- Cleaner, modern aesthetic
- Simplified component structure
- Enhanced visual design
- Design tokens in `styles/global.css`

---

## Resources & References

### Official Documentation
- **React 16 Docs:** https://legacy.reactjs.org/docs/
- **React Router v5:** https://v5.reactrouter.com/
- **Tailwind CSS v4:** https://tailwindcss.com/docs
- **Create React App:** https://create-react-app.dev/

### External Integrations
- **Font Awesome:** https://fontawesome.com/ (for skill icons)
- **Lottie Files:** https://lottiefiles.com/ (for animations)
- **GitHub GraphQL API:** https://docs.github.com/graphql
- **Medium RSS:** Medium feed format

### Useful Tools
- **Prettier Playground:** https://prettier.io/playground/
- **Tailwind Play:** https://play.tailwindcss.com/
- **React DevTools:** Browser extension for debugging

---

## Troubleshooting Common User Requests

### "My changes aren't showing up"

**Possible causes:**
1. **Browser cache** - Try hard refresh (Ctrl+Shift+R)
2. **Service worker cache** - Disable in DevTools or unregister
3. **Build not updated** - Run `npm run build` again
4. **Wrong version** - Check URL (v1 vs v2)

### "GitHub projects not updating"

**Solution:**
1. Check `.env` has valid `VITE_GITHUB_TOKEN`
2. Run `node fetch.js`
3. Check `/public/profile.json` has new data
4. Rebuild: `npm run build`
5. Redeploy

### "Dark mode resets on page refresh"

**Solution:**
Check localStorage is enabled in browser. The theme preference should persist via `useLocalStorage` hook.

### "Build is too slow"

**Optimization:**
1. Close unused applications
2. Increase Node memory: `export NODE_OPTIONS=--max-old-space-size=4096`
3. Use `npm run build` instead of watching

### "Deploy failed on Firebase"

**Solutions:**
1. Check Firebase CLI installed: `firebase --version`
2. Re-login: `firebase login`
3. Verify project ID in `.firebaserc`
4. Check hosting quota limits

---

## Contact & Support

For questions about this codebase:
- **Repository Owner:** Prerak Gada
- **Email:** mail@prerakgada.in
- **GitHub:** https://github.com/PrerakGada

For developerFolio template issues:
- **Original repo:** https://github.com/saadpasta/developerFolio
- **Issues:** https://github.com/saadpasta/developerFolio/issues

---

## AI Assistant Checklist

Before completing any task, verify:

- [ ] Read all relevant files before editing
- [ ] Used absolute paths starting with `/home/user/Portfolio-Website/`
- [ ] Followed existing code style (Prettier rules)
- [ ] Maintained version isolation (no cross-version imports)
- [ ] Updated shared data in `portfolio.js` when applicable
- [ ] Preserved import path depths (counted `../` correctly)
- [ ] Tested changes don't break existing functionality
- [ ] Checked both v1 and v2 if changes affect shared code
- [ ] Considered light/dark theme compatibility
- [ ] Followed React 16 patterns (avoid React 18 features)

---

## Changelog

### 2025-11-17 - Vite Migration
- **Migrated from Create React App to Vite 5**
  - Removed `react-scripts` dependency
  - Added Vite and `@vitejs/plugin-react`
  - Configured Vite to support JSX in `.js` files (esbuild loader)
  - Moved `index.html` from `public/` to root directory
  - Updated environment variables from `REACT_APP_` to `VITE_` prefix
  - Converted all `require()` statements to `import` for assets
  - Renamed `src/index.js` to `src/index.jsx`
  - Updated `serviceWorker.js` to use `import.meta.env` instead of `process.env`
  - Successfully tested build and development server
  - Updated documentation (README.md, CLAUDE.md) with Vite information
- **Benefits of migration:**
  - Faster development server with instant Hot Module Replacement (HMR)
  - Significantly faster build times
  - Smaller bundle sizes with better tree-shaking
  - Modern tooling with better DX

### 2025-11-17 - Documentation
- Created comprehensive CLAUDE.md documentation
- Analyzed repository structure
- Documented multi-version system
- Added troubleshooting guides
- Included best practices for AI assistants

---

**End of CLAUDE.md**

This document should be updated as the codebase evolves. Last updated: 2025-11-17
